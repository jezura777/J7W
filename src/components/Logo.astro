---
export interface Props {
	text: string;
}

const { text } = Astro.props;
---
<div id="ddd" class="flex flex-col justify-center items-center bg-[#000042] w-80 md:w-96">
    <img src="./logo.svg" alt="">
    <h1 contenteditable id="text" class="text-xl bg-clip-text bg-gradient-to-br from-green-950 to-green-960"><span class="text-green-950">404: </span> Not Found</h1>
</div>

<style>

    #ddd {

        color: #efefef;
        padding: 2em;
        transform: rotate 300ms ease-in-out;
        transform:
            perspective(5000px)
            rotateY(var(--rotateY))
            rotateX(var(--rotateX));

            
        border-radius: 1.5em;
        position: relative;
        transform-style: preserve-3d;

    }
    
    #ddd::before,
    #ddd::after {
        content: "";
        position: absolute;
        border-radius: inherit;
    }

    #ddd::after {
        inset: -1rem;
        background: linear-gradient(-45deg, #007d54, #00b65f);

        transform: translateZ(-50px);
    }

    #ddd::before {
        inset: 0.75rem;
        background: black;
        transform: translateZ(-45px);

        filter: blur(15px);
        opacity: 0.5;
    }


</style>

<script>
    const img = document.querySelector("img");

    document.addEventListener("mousemove", (e) => {
        rotateElement(e, img);
    })

    function rotateElement(event, element) {
        const x = event.clientX;
        const y = event.clientY;
        // console.log(x, y);

        const middleX = window.innerWidth / 2;
        const middleY = window.innerHeight / 2;

        const offsetX = ((x - middleX) / middleX) * 45;
        const offsetY = ((y - middleY) / middleY) * -45;
        // console.log(offsetX, offsetY);

        document.getElementById("ddd").style.setProperty("--rotateX", offsetY + "deg");
        document.getElementById("ddd").style.setProperty("--rotateY", offsetX + "deg");
    }

    document.addEventListener("click", () => {
        if (document.getElementById("text").textContent == "Jezura777") {
            document.getElementById("text").style.cssText = "color: transparent;";
            alert("You are smart!");
        } else {
            document.getElementById("text").style.cssText = "color: rgb(203 213 225);";
        }
    })
</script>