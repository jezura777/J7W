---
import Base from '../layouts/Base.astro';
import Header from "../components/Header.astro";

const posts = await Astro.glob("./blog/*.md");
const postsSorted = posts.sort((post) => post.frontmatter.date);

---

<Base title="J7-Blog" color='#d97706a0'>
	
	<Header/>

	<main class="parent gap-5 items-center justify-center w-screen  min-h-screen relative px-20">
		{postsSorted.map((post) => <a href={post.url} class='border-2 w-full border-[#d97706] text-[#d97706] rounded-3xl backdrop-blur-sm text-2xl gap-5 p-10'>
		
			<h1 class="h-20">{post.frontmatter.title}</h1>

			<div class="">
				<div class="h-px w-auto bg-[#00b65f] -mx-3 mt-5"></div>

				<div class="flex flex-row justify-between text-sm text-[#00b65f] mt-2">
					<p>{post.frontmatter.author}</p>
					<p>{post.frontmatter.lang}</p>
					<p>{post.frontmatter.date.slice(0, 10)}</p>
				</div>
			</div>
		
		</a>)}

	</main>
</Base>

<style>
	.parent {
		display: grid;
		grid-template-columns: 1fr;
	}

	@media (min-width: 768px) {
    .parent {
        grid-template-columns: 1fr 1fr 1fr;
    }

	.parent-post {
		display: grid;
		grid-template-rows: repeat(3, 1fr);
		grid-column-gap: 0px;
		grid-row-gap: 0px;
	}
}
</style>
